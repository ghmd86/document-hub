{
  "permissions": {
    "allow": [
      "Bash(git add:*)",
      "Bash(git commit -m \"$(cat <<''EOF''\nImplement generic document selection with dynamic extraction engine\n\nCreated comprehensive, production-ready implementation for configuration-driven\ndocument selection with dynamic variable extraction and rule evaluation.\n\n**Core Components:**\n\n1. **Model/DTO Classes:**\n   - DocumentEnquiryRequest/Response - API contracts\n   - ExtractionConfig - Parsed from data_extraction_schema JSONB\n   - ExtractionContext - Runtime execution context with variables\n   - ExtractionResult - Extraction outcome with metadata\n\n2. **Service Layer:**\n   - GenericExtractionEngine - Main orchestrator for extraction logic\n   - TransformationService - Data transformations (age, classification, etc.)\n   - RuleEvaluationService - Complex rule evaluation engine\n\n3. **Key Features:**\n   - Configuration-driven (zero code changes for new rules)\n   - Multi-API orchestration with dependency management\n   - JSONPath-based field extraction\n   - Rich transformation library (calculateAge, classify, string ops)\n   - Complex rule evaluation (comparison, logical, string, range operators)\n   - Redis caching with configurable TTL\n   - Circuit breaker per external API (Resilience4j)\n   - Retry logic with exponential backoff\n   - Multiple document matching strategies (reference_key, metadata, template_only)\n\n4. **Document Matching Strategies:**\n   - reference_key: Match by extracted value (e.g., DISCLOSURE_CODE)\n   - metadata: Match by JSONB fields (e.g., {ageGroup: \"SENIOR\"})\n   - template_only: All documents for template\n\n5. **Supported Operators:**\n   - Comparison: ==, !=, >, >=, <, <=\n   - Collection: in, notIn\n   - String: matches, contains, startsWith, endsWith\n   - Existence: exists, notExists\n   - Range: between\n   - Logical: AND, OR, NOT\n\n6. **Transformations:**\n   - Date/Time: calculateAge, formatDate, dateDiff\n   - Numeric: round, floor, percentage\n   - String: uppercase, lowercase, trim, substring, concat\n   - Classification: ageGroup, balanceTier, creditRating\n   - Aggregation: sum, average, count, min, max\n\n**Integration Guide:**\n\nCreated EXTRACTION_ENGINE_README.md with:\n- Complete integration steps with existing DocumentEnquiryService\n- Configuration examples (disclosure codes, age-based, balance-based, loan eligibility)\n- Repository method additions\n- Application configuration (circuit breakers, retry policies)\n- Testing strategies\n- Monitoring and troubleshooting\n\n**Technology Stack:**\n- Spring WebFlux (reactive, non-blocking)\n- Jayway JsonPath (JSONPath extraction)\n- Resilience4j (circuit breaker, retry)\n- Spring Data Redis (reactive caching)\n- Jackson (JSON parsing)\n\n**Example Use Cases:**\n1. Disclosure code extraction (original requirement)\n2. Age-based document selection (seniors 65+)\n3. Balance-based offers (high-value customers)\n4. Multi-factor loan eligibility (credit + account history)\n\nAll extraction logic embedded in Document Hub API service.\nNo separate microservice required.\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(git push:*)",
      "Bash(mvn clean compile:*)",
      "Bash(mvn clean package:*)",
      "Bash(PGPASSWORD=postgres123 psql:*)",
      "Bash(docker ps:*)",
      "Bash(docker exec:*)"
    ],
    "deny": [],
    "ask": []
  }
}
