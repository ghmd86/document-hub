{
	"info": {
		"_postman_id": "12345678-1234-1234-1234-123456789abc",
		"name": "Document Hub POC - Disclosure Code Extraction",
		"description": "Postman collection for testing the Document Hub POC with disclosure code extraction.\n\nThis collection demonstrates:\n- Multi-step data extraction (Arrangements → Pricing → Disclosure Code)\n- Document matching by reference_key\n- Mock API endpoints for testing\n- Complete end-to-end document enquiry scenarios",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Document Enquiry - End-to-End",
			"item": [
				{
					"name": "Scenario 1: Standard Card (D164)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-version",
								"value": "1",
								"description": "API version"
							},
							{
								"key": "X-correlation-id",
								"value": "test-correlation-{{$randomUUID}}",
								"description": "Correlation ID for request tracing"
							},
							{
								"key": "X-requestor-id",
								"value": "550e8400-e29b-41d4-a716-446655440002",
								"description": "ID of the requestor"
							},
							{
								"key": "X-requestor-type",
								"value": "CUSTOMER",
								"description": "Type of requestor (CUSTOMER, AGENT, SYSTEM)"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"accountId\": [\"550e8400-e29b-41d4-a716-446655440000\"],\n  \"customerId\": \"123e4567-e89b-12d3-a456-426614174000\"\n}"
						},
						"url": {
							"raw": "http://localhost:8080/api/v1/documents-enquiry",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"api",
								"v1",
								"documents-enquiry"
							]
						},
						"description": "Test disclosure code extraction for a standard credit card.\n\n**Expected Flow:**\n1. Extract pricingId from arrangements API → PRC-12345\n2. Extract disclosureCode from pricing API → D164\n3. Match document: Credit_Card_Terms_D164_v1.pdf\n\n**Account Details:**\n- Account ID: 550e8400-e29b-41d4-a716-446655440000\n- Pricing ID: PRC-12345\n- Disclosure Code: D164\n- Product: STANDARD_CREDIT_CARD\n- Annual Fee: $0\n- Interest Rate: 18.99%"
					},
					"response": []
				},
				{
					"name": "Scenario 2: Premium Card (D166)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-version",
								"value": "1",
								"description": "API version"
							},
							{
								"key": "X-correlation-id",
								"value": "test-correlation-{{$randomUUID}}",
								"description": "Correlation ID for request tracing"
							},
							{
								"key": "X-requestor-id",
								"value": "550e8400-e29b-41d4-a716-446655440002",
								"description": "ID of the requestor"
							},
							{
								"key": "X-requestor-type",
								"value": "CUSTOMER",
								"description": "Type of requestor (CUSTOMER, AGENT, SYSTEM)"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"accountId\": [\"770e8400-e29b-41d4-a716-446655440002\"],\n  \"customerId\": \"123e4567-e89b-12d3-a456-426614174000\"\n}"
						},
						"url": {
							"raw": "http://localhost:8080/api/v1/documents-enquiry",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"api",
								"v1",
								"documents-enquiry"
							]
						},
						"description": "Test disclosure code extraction for a premium credit card.\n\n**Expected Flow:**\n1. Extract pricingId from arrangements API → PRC-67890\n2. Extract disclosureCode from pricing API → D166\n3. Match document: Premium_Credit_Card_Terms_D166_v1.pdf\n\n**Account Details:**\n- Account ID: 770e8400-e29b-41d4-a716-446655440002\n- Pricing ID: PRC-67890\n- Disclosure Code: D166\n- Product: PREMIUM_CREDIT_CARD\n- Annual Fee: $95\n- Interest Rate: 15.99%\n- Rewards Multiplier: 2.0x"
					},
					"response": []
				}
			],
			"description": "End-to-end document enquiry requests that trigger the full extraction flow."
		},
		{
			"name": "Mock APIs - Disclosure Code Flow",
			"item": [
				{
					"name": "Step 1: Get Arrangements (Standard Card)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/api/v1/mock-apicreditcard/accounts/550e8400-e29b-41d4-a716-446655440000/arrangements",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"mock-api",
								"creditcard",
								"accounts",
								"550e8400-e29b-41d4-a716-446655440000",
								"arrangements"
							]
						},
						"description": "Get account arrangements for standard credit card.\n\n**Expected Response:**\n```json\n{\n  \"content\": [\n    {\n      \"domain\": \"PRICING\",\n      \"domainId\": \"PRC-12345\",\n      \"status\": \"ACTIVE\",\n      \"effectiveDate\": \"2024-01-01\"\n    },\n    {\n      \"domain\": \"REWARDS\",\n      \"domainId\": \"RWD-001\",\n      \"status\": \"ACTIVE\"\n    }\n  ],\n  \"accountId\": \"550e8400-e29b-41d4-a716-446655440000\",\n  \"totalItems\": 2\n}\n```\n\n**Extracted Field:**\n- pricingId: PRC-12345 (from PRICING domain where status=ACTIVE)"
					},
					"response": []
				},
				{
					"name": "Step 1: Get Arrangements (Premium Card)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/api/v1/mock-apicreditcard/accounts/770e8400-e29b-41d4-a716-446655440002/arrangements",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"mock-api",
								"creditcard",
								"accounts",
								"770e8400-e29b-41d4-a716-446655440002",
								"arrangements"
							]
						},
						"description": "Get account arrangements for premium credit card.\n\n**Expected Response:**\n```json\n{\n  \"content\": [\n    {\n      \"domain\": \"PRICING\",\n      \"domainId\": \"PRC-67890\",\n      \"status\": \"ACTIVE\",\n      \"effectiveDate\": \"2024-01-01\"\n    },\n    {\n      \"domain\": \"REWARDS\",\n      \"domainId\": \"RWD-PREMIUM-001\",\n      \"status\": \"ACTIVE\"\n    }\n  ],\n  \"accountId\": \"770e8400-e29b-41d4-a716-446655440002\",\n  \"totalItems\": 2\n}\n```\n\n**Extracted Field:**\n- pricingId: PRC-67890 (from PRICING domain where status=ACTIVE)"
					},
					"response": []
				},
				{
					"name": "Step 2: Get Pricing Data (PRC-12345 → D164)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/api/v1/mock-apipricing-service/prices/PRC-12345",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"mock-api",
								"pricing-service",
								"prices",
								"PRC-12345"
							]
						},
						"description": "Get pricing data for standard card.\n\n**Expected Response:**\n```json\n{\n  \"pricingId\": \"PRC-12345\",\n  \"cardholderAgreementsTncCode\": \"D164\",\n  \"productType\": \"STANDARD_CREDIT_CARD\",\n  \"annualFee\": 0,\n  \"interestRate\": 18.99,\n  \"effectiveDate\": \"2024-01-01\",\n  \"currency\": \"USD\",\n  \"lastUpdated\": \"2024-01-15\"\n}\n```\n\n**Extracted Field:**\n- disclosureCode: D164 (cardholderAgreementsTncCode)\n\n**Document Match:**\n- File: Credit_Card_Terms_D164_v1.pdf\n- Matched by: reference_key = D164, reference_key_type = DISCLOSURE_CODE"
					},
					"response": []
				},
				{
					"name": "Step 2: Get Pricing Data (PRC-67890 → D166)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/api/v1/mock-apipricing-service/prices/PRC-67890",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"mock-api",
								"pricing-service",
								"prices",
								"PRC-67890"
							]
						},
						"description": "Get pricing data for premium card.\n\n**Expected Response:**\n```json\n{\n  \"pricingId\": \"PRC-67890\",\n  \"cardholderAgreementsTncCode\": \"D166\",\n  \"productType\": \"PREMIUM_CREDIT_CARD\",\n  \"annualFee\": 95,\n  \"interestRate\": 15.99,\n  \"rewardsMultiplier\": 2.0,\n  \"effectiveDate\": \"2024-01-01\",\n  \"currency\": \"USD\",\n  \"lastUpdated\": \"2024-01-15\"\n}\n```\n\n**Extracted Field:**\n- disclosureCode: D166 (cardholderAgreementsTncCode)\n\n**Document Match:**\n- File: Premium_Credit_Card_Terms_D166_v1.pdf\n- Matched by: reference_key = D166, reference_key_type = DISCLOSURE_CODE"
					},
					"response": []
				},
				{
					"name": "Step 2: Get Pricing Data (Default → D165)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/api/v1/mock-apipricing-service/prices/PRC-DEFAULT",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"mock-api",
								"pricing-service",
								"prices",
								"PRC-DEFAULT"
							]
						},
						"description": "Get pricing data for default/basic card.\n\n**Expected Response:**\n```json\n{\n  \"pricingId\": \"PRC-DEFAULT\",\n  \"cardholderAgreementsTncCode\": \"D165\",\n  \"productType\": \"BASIC_CREDIT_CARD\",\n  \"annualFee\": 0,\n  \"interestRate\": 21.99,\n  \"effectiveDate\": \"2024-01-01\",\n  \"currency\": \"USD\",\n  \"lastUpdated\": \"2024-01-15\"\n}\n```\n\n**Extracted Field:**\n- disclosureCode: D165 (cardholderAgreementsTncCode)\n\n**Document Match:**\n- File: Credit_Card_Terms_D165_v1.pdf\n- Matched by: reference_key = D165, reference_key_type = DISCLOSURE_CODE"
					},
					"response": []
				}
			],
			"description": "Mock API endpoints that simulate the multi-step extraction flow for disclosure codes."
		},
		{
			"name": "Mock APIs - Other Scenarios",
			"item": [
				{
					"name": "Get Account Details",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/api/v1/mock-apiaccounts/550e8400-e29b-41d4-a716-446655440000/details",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"mock-api",
								"accounts",
								"550e8400-e29b-41d4-a716-446655440000",
								"details"
							]
						},
						"description": "Get account details including productCode, branchCode, etc.\n\nUsed for other extraction scenarios like ACCOUNT_STATEMENT."
					},
					"response": []
				},
				{
					"name": "Get Account",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/api/v1/mock-apiaccounts/550e8400-e29b-41d4-a716-446655440000",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"mock-api",
								"accounts",
								"550e8400-e29b-41d4-a716-446655440000"
							]
						},
						"description": "Get basic account information."
					},
					"response": []
				},
				{
					"name": "Get Customer",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/api/v1/mock-apicustomers/123e4567-e89b-12d3-a456-426614174000",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"mock-api",
								"customers",
								"123e4567-e89b-12d3-a456-426614174000"
							]
						},
						"description": "Get customer details including address, tier, regionCode."
					},
					"response": []
				},
				{
					"name": "Get Product",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/api/v1/mock-apiproducts/CC-PREMIUM-001",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"mock-api",
								"products",
								"CC-PREMIUM-001"
							]
						},
						"description": "Get product information by product code."
					},
					"response": []
				},
				{
					"name": "Get Branch",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/api/v1/mock-apibranches/BR-555",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"mock-api",
								"branches",
								"BR-555"
							]
						},
						"description": "Get branch information by branch code."
					},
					"response": []
				},
				{
					"name": "Get Compliance Rules",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/api/v1/mock-apicompliance/regions/WEST",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"mock-api",
								"compliance",
								"regions",
								"WEST"
							]
						},
						"description": "Get compliance rules for a region."
					},
					"response": []
				},
				{
					"name": "Get Regulatory Requirements",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/api/v1/mock-apiregulatory/requirements?category=CREDIT_CARD",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"mock-api",
								"regulatory",
								"requirements"
							],
							"query": [
								{
									"key": "category",
									"value": "CREDIT_CARD"
								}
							]
						},
						"description": "Get regulatory requirements by category."
					},
					"response": []
				},
				{
					"name": "Map Region (POST)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"state\": \"CA\"\n}"
						},
						"url": {
							"raw": "http://localhost:8080/api/v1/mock-apiregions/map",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"mock-api",
								"regions",
								"map"
							]
						},
						"description": "Map state to region code.\n\nDemonstrates POST request with dynamic body placeholder resolution."
					},
					"response": []
				},
				{
					"name": "Get Disclosures",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/api/v1/mock-apidisclosures?category=CREDIT_CARD&region=US_WEST",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"mock-api",
								"disclosures"
							],
							"query": [
								{
									"key": "category",
									"value": "CREDIT_CARD"
								},
								{
									"key": "region",
									"value": "US_WEST"
								}
							]
						},
						"description": "Get disclosure requirements by category and region."
					},
					"response": []
				},
				{
					"name": "Get Document Rules (POST)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"rules\": {\n    \"dataRetention\": \"7_YEARS\",\n    \"privacyStandard\": \"CCPA\",\n    \"disclosureFrequency\": \"QUARTERLY\",\n    \"requiresNotarization\": false,\n    \"electronicSignatureAllowed\": true\n  }\n}"
						},
						"url": {
							"raw": "http://localhost:8080/api/v1/mock-apidocument-rules",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"mock-api",
								"document-rules"
							]
						},
						"description": "Get document rules based on compliance rules.\n\nDemonstrates POST request with complex nested JSON body."
					},
					"response": []
				}
			],
			"description": "Additional mock API endpoints for testing other extraction scenarios (multi-step chains, diamond patterns, etc.)."
		}
	],
	"variable": [
		{
			"key": "baseUrl",
			"value": "http://localhost:8080",
			"type": "string"
		},
		{
			"key": "standardAccountId",
			"value": "550e8400-e29b-41d4-a716-446655440000",
			"type": "string"
		},
		{
			"key": "premiumAccountId",
			"value": "770e8400-e29b-41d4-a716-446655440002",
			"type": "string"
		},
		{
			"key": "customerId",
			"value": "123e4567-e89b-12d3-a456-426614174000",
			"type": "string"
		}
	]
}
